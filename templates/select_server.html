<!DOCTYPE html>
<html>
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background-color: #0f1012; color: #e0e0e0; font-family: 'Segoe UI', sans-serif; }
        .guild-card {
            background: #1c1e22;
            border: 1px solid #333;
            border-radius: 12px;
            transition: all 0.3s ease;
            overflow: hidden;
            position: relative;
        }
        .guild-card:hover {
            transform: translateY(-5px);
            border-color: #ffaa00;
            box-shadow: 0 10px 20px rgba(0,0,0,0.5);
            background: #25282d;
        }
        .guild-icon {
            border: 3px solid #ffaa00;
            box-shadow: 0 0 10px rgba(255, 170, 0, 0.2);
            transition: all 0.3s ease;
        }
        .guild-card:hover .guild-icon { scale: 1.1; }
        .btn-select {
            background-color: #ffaa00;
            color: #000;
            font-weight: bold;
            border-radius: 0 0 12px 12px;
            width: 100%;
            border: none;
            padding: 10px;
        }
        .empty-state {
            background: #1c1e22;
            padding: 40px;
            border-radius: 15px;
            border: 1px dashed #444;
        }
    </style>
</head>
<body>
<div class="container mt-5">
    <div class="text-center mb-5">
        <h1 class="fw-bold" style="color: #ffaa00;">Panel de Control</h1>
        <p class="text-muted">Selecciona una Hermandad para gestionar sus actividades</p>
    </div>

    <div class="row justify-content-center">
        {% for guild in guilds %}
        <div class="col-md-4 col-sm-6 mb-4">
            <a href="/dashboard/{{ guild.id }}" class="text-decoration-none">
                <div class="guild-card h-100 d-flex flex-column align-items-center pt-4">
                    {% if guild.icon %}
                        <img src="https://cdn.discordapp.com/icons/{{ guild.id }}/{{ guild.icon }}.png" width="80" height="80" class="rounded-circle guild-icon mb-3">
                    {% else %}
                        <div class="rounded-circle guild-icon mb-3 bg-secondary d-flex align-items-center justify-content-center" style="width: 80px; height: 80px; font-size: 30px;">
                            {{ guild.name[0] }}
                        </div>
                    {% endif %}
                    <h5 class="text-white fw-bold px-3 text-center">{{ guild.name }}</h5>
                    <div class="mt-auto w-100">
                        <button class="btn-select">GESTIONAR</button>
                    </div>
                </div>
            </a>
        </div>
        {% else %}
        <div class="col-md-8 text-center mt-5">
            <div class="empty-state">
                <h3 class="text-warning">⚠️ No se encontraron servidores</h3>
                <p>Asegúrate de que el bot esté en el servidor y que tengas permisos de <b>Administrador</b>.</p>
                <a href="https://discord.com/api/oauth2/authorize?client_id={{ config.CLIENT_ID }}&permissions=8&scope=bot%20applications.commands" class="btn btn-outline-warning mt-3">Invitar Bot a un Servidor</a>
            </div>
        </div>
        {% endfor %}
    </div>
    
    <div class="text-center mt-5">
        <a href="/logout" class="text-muted text-decoration-none small">Cerrar Sesión</a>
    </div>
</div>
</body>
</html>